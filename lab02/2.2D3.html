<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="utf-8" />
    <meta name="description" content="Data Visualization"/>
    <meta name="keywords" content="HTML,CSS,D3"/>
    <meta name="author" content="Feliks Ezra Ananda"/>

    <title>Task 2.2 D3 Drawing with Data - Bar Chart</title>
    <!--Include the D3 Library v7-->
    <script src="https://d3js.org/d3.v7.min.js"></script>
</head>
<body>
<h1>Drawing with Data</h1>
<script>
    //Set up variables for width and height of SVG made the code more flexible
    var w = 500;
    var h = 100;
    //Add new variable which is padding
    var padding =1;
    //Adding more dataset
    var dataset = [15,5,26,23,9,25,11,16,30,4,2,19];

    var svg = d3.select("body")
    //Add new variable ('svg') using D3 method which is .attr
            .append("svg")
            .attr("width", w)
            .attr("height", h);
    //Using rectangle to draw bar chart
    //Selectall rectangles in the DOM
    svg.selectAll("rect")
    //Use .data(dataset) to be executed 5 times in rectangle
    .data(dataset)
    //Create new rectangle, if there are more data values than corresponding DOM elements
    .enter()
    //Appends the new rectangle element into the DOM
    .append("rect")
    .attr("x", function(d,i){
        //Calculating the position of each bars with padding in it
        return i* (w / dataset.length) + padding * i;
    })
    .attr("y", function(d){
        //Height minus data value to  make the graph start from the top
        return h - d * 4;
    })
    //Adjusting the width to accommodate padding
    .attr("width", w / dataset.length - padding)
    //Using the dataset itself as the height attribute
    .attr("height", function(d){
        //Scale up the dataset to 4, so that it can be more visible
        return d * 4;
    })
    .attr( "fill","navy");//Color of the bars
</script>
</body>
</html>

<footer style="color: grey;">COS30045 Data Visualization
    <br>
    Feliks Ezra Ananda</footer>

